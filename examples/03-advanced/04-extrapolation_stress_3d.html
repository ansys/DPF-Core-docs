
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Extrapolation Method for stress result of 3D-element &#8212; PyDPF-Core 0.6.0 documentation</title>
    
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css\ansys_sphinx_theme.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    
        <link href="../../_static/css/breadcrumbs.css" rel="stylesheet">
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Extrapolation Method for strain result of 2D-element" href="05-extrapolation_strain_2d.html" />
    <link rel="prev" title="Exchange Data Between Servers" href="03-exchange_data_between_servers.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="None">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
    <img src="../../_static/pyansys-logo-black-cropped.png" class="logo__image only-light" alt="Logo image">
    <img src="../../_static/pyansys-logo-black-cropped.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../getting_started/index.html">
  Getting started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../user_guide/index.html">
  User guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../api/index.html">
  APIs
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../operator_reference.html">
  Operators
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  Examples
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../contributing.html">
  Contribute
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/pyansys/DPF-Core" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    
    
        <div class="container-xl">
    <div class="row">
        <div class="col-12 col-md-3" id="breadcrumbs-spacer"></div>
        <div class="col-12 col-md-11 col-xl-9" id="breadcrumbs">
          
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
    
    
        <li class="nav-item nav-item-0"><a href="../../index.html">PyDPF-Core 0.6.0 documentation</a> » </li>
    

          <li class="nav-item nav-item-1"><a href="../index.html" >Examples</a> » </li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Advanced and Miscellaneous Examples</a> » </li>
        <li class="nav-item nav-item-this"><a href="">Extrapolation Method for stress result of 3D-element</a></li> 
      </ul>
    </div>
        </div>
  </div>
</div>
    


    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../00-basic/index.html">
   Basic DPF Examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-basic/00-basic_example.html">
     Basic DPF-Core Usage
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-basic/01-basic_operators.html">
     Operators Overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-basic/02-basic_field_containers.html">
     Field and Field Containers Overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-basic/03-create_entities.html">
     Create Your Own Entities Use DPF Operators
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-basic/04-basic-load-file.html">
     Write/Load and Upload/Download a Result File
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-basic/05-use_local_data.html">
     Bring a Field’s Data Locally to Improve Performance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-basic/06-load_plugin.html">
     Load Plugin
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-basic/07-use_result_helpers.html">
     Use Result Helpers to Load Custom Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-basic/08-results_over_time_subset.html">
     Scope results over custom time domains
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-basic/09-results_over_space_subset.html">
     Scope results over custom space domains
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-basic/11-server_types.html">
     Communicate In Process or via gRPC
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-basic/12-get_material_properties.html">
     Get material properties from the result file
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01-static-transient/index.html">
   Transient Analysis Examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-static-transient/00-basic_transient.html">
     Transient Analysis Result Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01-static-transient/01-transient_easy_time_scoping.html">
     Choose a Time Scoping for a Transient Analysis
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02-modal-harmonic/index.html">
   Harmonic Analysis Examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-modal-harmonic/00-multi_harmonic.html">
     Multi-Harmonic Response Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-modal-harmonic/01-modal_cyclic.html">
     Modal Cyclic symmetry Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-modal-harmonic/02-cyclic_multi_stage.html">
     Multi-stage Cyclic Symmetry Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-modal-harmonic/03-compare_modes.html">
     Use Result Helpers to compare mode shapes for solids and then shells
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-modal-harmonic/04-modal_superposition.html">
     Expand Harmonic Modal Superposition with DPF
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02-modal-harmonic/05-read_distributed_files.html">
     Read results from distributed files
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Advanced and Miscellaneous Examples
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="00-multistage_advanced_options.html">
     Multi-stage Cyclic Symmetry Use Advanced Customization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="01-solve_harmonic_problem.html">
     Solve Harmonic Problem (with damping) Using Matrix Inverse
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02-volume_averaged_stress.html">
     Average Elemental Stress on a given volume
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03-exchange_data_between_servers.html">
     Exchange Data Between Servers
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Extrapolation Method for stress result of 3D-element
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="05-extrapolation_strain_2d.html">
     Extrapolation Method for strain result of 2D-element
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06-stress_gradient_path.html">
     Stress gradient normal to a defined node.
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="10-asme_secviii_divtwo.html">
     ASME Section VIII Division 2: pressure vessels
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04-specific-requests/index.html">
   Examples that targets specific requests
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-specific-requests/00-hdf5_double_float_comparison.html">
     Hdf5 export and compare precision
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-specific-requests/01-reduced_matrices_export.html">
     Get reduced matrices and make export
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../05-plotting/index.html">
   Plotting Examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-plotting/00-basic_plotting.html">
     Review of available plotting commands
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-plotting/01-compare_results.html">
     Compare Results Using the Plotter
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-plotting/02-solution_combination.html">
     Load Case Combination for Principal Stress
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-plotting/03-labels.html">
     Add Nodal Labels on Plots
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-plotting/04-plot_on_path.html">
     Plot results on a specific path
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-plotting/05-plot_on_warped_mesh.html">
     Warp the mesh by a field for plotting
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06-distributed-post/index.html">
   Examples for post processing on distributed process
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-distributed-post/00-distributed_total_disp.html">
     Post processing of displacement on distributed processes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-distributed-post/01-distributed_workflows_on_remote.html">
     Create custom workflow on distributed processes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-distributed-post/02-distributed-msup_expansion.html">
     Distributed modal superposition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-distributed-post/03-distributed-msup_expansion_steps.html">
     Distributed msup distributed modal response
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06-distributed-post/06-distributed_stress_averaging.html">
     Average Stress in distributed Workflows
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../07-python-operators/index.html">
   Examples of custom python plugins of Operators
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../07-python-operators/00-wrapping_numpy_capabilities.html">
     Write user defined Operator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07-python-operators/01-package_python_operators.html">
     Write user defined Operators as a package
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07-python-operators/02-python_operators_with_dependencies.html">
     Write user defined Operators having third party dependencies
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../08-averaging/index.html">
   Averaging Examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../08-averaging/00-compute_and_average.html">
     Averaging order
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../08-averaging/01-average_across_bodies.html">
     Average across bodies
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Extrapolation Method for stress result of 3D-element
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#extrapolation-from-integration-points-for-stress-result">
   Extrapolation from integration points for stress result
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nodal-stress-result-of-integration-points">
     Nodal stress result of integration points:
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#stress-result-of-reference-ansys-workbench">
   Stress result of reference ANSYS Workbench
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plot">
   Plot
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comparison">
   Comparison
  </a>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-examples-03-advanced-04-extrapolation-stress-3d-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="extrapolation-method-for-stress-result-of-3d-element">
<span id="extrapolation-test-stress-3delement"></span><span id="sphx-glr-examples-03-advanced-04-extrapolation-stress-3d-py"></span><h1>Extrapolation Method for stress result of 3D-element<a class="headerlink" href="#extrapolation-method-for-stress-result-of-3d-element" title="Permalink to this headline">#</a></h1>
<p>This example shows how to compute the nodal components stress from
Gaussian points (integration points) for 3D-element by using the method
of extrapolation.</p>
<p>Extrapolating results available at Gauss or quadrature points to nodal
points for a field or fields container. The available elements are:</p>
<ul class="simple">
<li><p>Linear quadrangle</p></li>
<li><p>Parabolic quadrangle</p></li>
<li><p>Linear hexagonal</p></li>
<li><p>Quadratic hexagonal</p></li>
<li><p>Linear tetrahedral</p></li>
<li><p>Quadratic tetrahedral</p></li>
</ul>
<p>1st step : Get the data source’s solution from the integration points (this
result file was generated with the MAPDL option <code class="docutils literal notranslate"><span class="pre">EREXS,</span> <span class="pre">NO</span></code>).</p>
<p>2nd step: Use operator of extrapolation to compute the nodal stress.</p>
<p>3rd step: Get nodal stress result from data source’s analysis reference.
The analysis was computed by Ansys Mechanical APDL.</p>
<p>4th step: Compare the results between nodal stress from data source
reference and nodal stress computed by the extrapolation method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ansys.dpf</span> <span class="kn">import</span> <span class="n">core</span> <span class="k">as</span> <span class="n">dpf</span>
<span class="kn">from</span> <span class="nn">ansys.dpf.core</span> <span class="kn">import</span> <span class="n">examples</span>
</pre></div>
</div>
<p>Get the data source’s analyse of integration points and data source’s analyse reference</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">datafile</span> <span class="o">=</span> <span class="n">examples</span><span class="o">.</span><span class="n">download_extrapolation_3d_result</span><span class="p">()</span>

<span class="c1"># integration points (Gaussian points)</span>
<span class="n">data_integration_points</span> <span class="o">=</span> <span class="n">datafile</span><span class="p">[</span><span class="s2">&quot;file_integrated&quot;</span><span class="p">]</span>
<span class="n">data_sources_integration_points</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">DataSources</span><span class="p">(</span><span class="n">data_integration_points</span><span class="p">)</span>

<span class="c1"># reference</span>
<span class="n">dataSourceref</span> <span class="o">=</span> <span class="n">datafile</span><span class="p">[</span><span class="s2">&quot;file_ref&quot;</span><span class="p">]</span>
<span class="n">data_sources_ref</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">DataSources</span><span class="p">(</span><span class="n">dataSourceref</span><span class="p">)</span>

<span class="c1"># get the mesh</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">Model</span><span class="p">(</span><span class="n">data_integration_points</span><span class="p">)</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">meshed_region</span>

<span class="c1"># operator instantiation scoping</span>
<span class="n">op_scoping</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">operators</span><span class="o">.</span><span class="n">scoping</span><span class="o">.</span><span class="n">split_on_property_type</span><span class="p">()</span>  <span class="c1"># operator instantiation</span>
<span class="n">op_scoping</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">mesh</span><span class="p">)</span>
<span class="n">op_scoping</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">requested_location</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;Elemental&quot;</span><span class="p">)</span>
<span class="n">mesh_scoping</span> <span class="o">=</span> <span class="n">op_scoping</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">mesh_scoping</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="extrapolation-from-integration-points-for-stress-result">
<h1>Extrapolation from integration points for stress result<a class="headerlink" href="#extrapolation-from-integration-points-for-stress-result" title="Permalink to this headline">#</a></h1>
<p>In this example we compute nodal component stress result from
integration points stress by using the <code class="docutils literal notranslate"><span class="pre">gauss_to_node_fc</span></code> operator.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create stress operator to get stress result of integration points</span>
<span class="n">stressop</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">operators</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">stress</span><span class="p">()</span>
<span class="n">stressop</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">data_sources</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">data_sources_integration_points</span><span class="p">)</span>
<span class="n">stress</span> <span class="o">=</span> <span class="n">stressop</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">fields_container</span><span class="p">()</span>
</pre></div>
</div>
<section id="nodal-stress-result-of-integration-points">
<h2>Nodal stress result of integration points:<a class="headerlink" href="#nodal-stress-result-of-integration-points" title="Permalink to this headline">#</a></h2>
<blockquote>
<div><p>The command <code class="docutils literal notranslate"><span class="pre">ERESX,NO</span></code> in Mechanical APDL is used to copy directly the
gaussian (integration) points results to the nodes, instead of the
results at nodes or elements (which are interpolation of results at a
few gauss points).
The following plot shows the nodal values which are the averaged values
of stresses at each node. The value shown at the node is the average of
the stresses from the gaussian points of each element that it belongs to.</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot</span>
<span class="n">stress_nodal_op</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">operators</span><span class="o">.</span><span class="n">averaging</span><span class="o">.</span><span class="n">elemental_nodal_to_nodal_fc</span><span class="p">()</span>
<span class="n">stress_nodal_op</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">fields_container</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">stress</span><span class="p">)</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">stress_nodal_op</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">fields_container</span><span class="p">())</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_04-extrapolation_stress_3d_001.png" srcset="../../_images/sphx_glr_04-extrapolation_stress_3d_001.png" alt="04 extrapolation stress 3d" class = "sphx-glr-single-img"/><p>Create operator <code class="docutils literal notranslate"><span class="pre">gauss_to_node_fc</span></code> and compute nodal component stress
by applying the extrapolation method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ex_stress</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">operators</span><span class="o">.</span><span class="n">averaging</span><span class="o">.</span><span class="n">gauss_to_node_fc</span><span class="p">()</span>
<span class="c1"># connect mesh</span>
<span class="n">ex_stress</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">mesh</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">mesh</span><span class="p">)</span>
<span class="c1"># connect fields container stress</span>
<span class="n">ex_stress</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">fields_container</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">stress</span><span class="p">)</span>
<span class="c1"># get output</span>
<span class="n">fex</span> <span class="o">=</span> <span class="n">ex_stress</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">fields_container</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="stress-result-of-reference-ansys-workbench">
<h1>Stress result of reference ANSYS Workbench<a class="headerlink" href="#stress-result-of-reference-ansys-workbench" title="Permalink to this headline">#</a></h1>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Stress from file dataSourceref</span>
<span class="n">stressop_ref</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">operators</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">stress</span><span class="p">()</span>
<span class="n">stressop_ref</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">data_sources</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">data_sources_ref</span><span class="p">)</span>
<span class="n">stressop_ref</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">mesh_scoping</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">mesh_scoping</span><span class="p">)</span>
<span class="n">stress_ref</span> <span class="o">=</span> <span class="n">stressop_ref</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">fields_container</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="plot">
<h1>Plot<a class="headerlink" href="#plot" title="Permalink to this headline">#</a></h1>
<p>Showing plots of Extrapolation’s stress result and reference’s stress result</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># extrapolation</span>
<span class="n">fex_nodal_op</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">operators</span><span class="o">.</span><span class="n">averaging</span><span class="o">.</span><span class="n">elemental_nodal_to_nodal_fc</span><span class="p">()</span>
<span class="n">fex_nodal_op</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">fields_container</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">fex</span><span class="p">)</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fex_nodal_op</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">fields_container</span><span class="p">())</span>
<span class="c1"># reference</span>
<span class="n">stress_ref_nodal_op</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">operators</span><span class="o">.</span><span class="n">averaging</span><span class="o">.</span><span class="n">elemental_nodal_to_nodal_fc</span><span class="p">()</span>
<span class="n">stress_ref_nodal_op</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">fields_container</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">stress_ref</span><span class="p">)</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">stress_ref_nodal_op</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">fields_container</span><span class="p">())</span>
</pre></div>
</div>
<ul class="sphx-glr-horizontal">
<li><img src="../../_images/sphx_glr_04-extrapolation_stress_3d_002.png" srcset="../../_images/sphx_glr_04-extrapolation_stress_3d_002.png" alt="04 extrapolation stress 3d" class = "sphx-glr-multi-img"/></li>
<li><img src="../../_images/sphx_glr_04-extrapolation_stress_3d_003.png" srcset="../../_images/sphx_glr_04-extrapolation_stress_3d_003.png" alt="04 extrapolation stress 3d" class = "sphx-glr-multi-img"/></li>
</ul>
</section>
<section id="comparison">
<h1>Comparison<a class="headerlink" href="#comparison" title="Permalink to this headline">#</a></h1>
<p>Compare the stress result computed by extrapolation and reference’s result.
Check if two fields container are identical.
Maximum tolerance gap between to compared values: 1e-2.
Smallest value which will be considered during the comparison
step : all the <code class="docutils literal notranslate"><span class="pre">abs(values)</span></code> in field less than 1e-8 is considered as null</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># operator AreFieldsIdentical_fc</span>
<span class="n">op</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">operators</span><span class="o">.</span><span class="n">logic</span><span class="o">.</span><span class="n">identical_fc</span><span class="p">()</span>
<span class="n">op</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">fields_containerA</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">fex</span><span class="p">)</span>
<span class="n">op</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">fields_containerB</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">stress_ref</span><span class="p">)</span>
<span class="n">op</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">tolerance</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="mf">1.0e-8</span><span class="p">)</span>
<span class="n">op</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">small_value</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="n">op</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">boolean</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  1.745 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-03-advanced-04-extrapolation-stress-3d-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/c743cdddb222eb034113118cd4c58391/04-extrapolation_stress_3d.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">04-extrapolation_stress_3d.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/151e3c5b9c3b79502701da9eac45b157/04-extrapolation_stress_3d.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">04-extrapolation_stress_3d.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>


              </article>
              

              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright (c) 2022 ANSYS, Inc. All rights reserved.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>